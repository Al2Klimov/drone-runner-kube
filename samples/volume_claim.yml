kind: pipeline
type: kubernetes
name: default

clone:
  disable: true

steps:
- name: write
  pull: if-not-exists
  image: alpine
  volumes:
  - name: shared
    path: /shared
  commands:
  - pwd
  - ls /shared

- name: read
  pull: if-not-exists
  image: alpine
  volumes:
  - name: shared
    path: /shared
  commands:
  - pwd
  - sleep 500
  - ls /shared

# once the pipeline finished, check the host machine
# to see if exists /tmp/drone/test/greetings.txt

volumes:
- name: shared
  claim:
    name: received-data-claim
